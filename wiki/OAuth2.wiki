#summary OAuth 2.0 in the client library

= Overview =
[http://oauth.net/2/ OAuth 2.0] is an emerging standard for
accessing protected resources on the web. Google APIs and the 
google-api-php-client library support OAuth 2.0. 

== Further Reading ==
  * For information about using OAuth 2.0 in various flows with Google APIs, see [http://code.google.com/apis/accounts/docs/OAuth2.html Using OAuth 2.0 to Access Google APIs].
  * For general information about OAuth 2.0, see the [http://tools.ietf.org/html/draft-ietf-oauth-v2 OAuth 2.0 draft specification].

= Registering =

Before you can use OAuth 2.0, you must register your application using the  [https://code.google.com/apis/console/ Google APIs Console]. After you've registered, go to the [https://code.google.com/apis/console/#:overview:access API Access] tab and copy the "Client ID" and "Client secret" values, which you'll need later.

  http://google-api-php-client.googlecode.com/svn/trunk/static/Credentials.png

If you are writing a web application, make sure you register a `Redirect URI` in the Google API Console.  The value of `$apiConfig['oauth2_redirect_uri']` in your application will need to match the URI you just registered in the Google API Console.  If you are using the sample code below, the value of `$apiConfig['oauth2_redirect_uri']` will be the path to where you host the PHP file.

= Sample =

== Web Application ==
Here is an example demonstrating how to do authentication with OAuth 2.0 in a web application.  The [https://code.google.com/p/google-api-php-client/source/browse/#svn%2Ftrunk%2Fexamples full code for this sample] is in the repository.
{{{
<?php
// In a real application this would use a database, and not a session!
session_start();

require_once '../../src/apiClient.php';
require_once '../../src/contrib/apiBuzzService.php';

// Visit https://code.google.com/apis/console to
// generate your oauth2_client_id, oauth2_client_secret, and to
// register your oauth2_redirect_uri.
global $apiConfig;

$apiConfig['oauth2_client_id'] = 'YOUR CLIENT ID HERE';
$apiConfig['oauth2_client_secret'] = 'YOUR CLIENT SECRET HERE';

// The oauth2_redirect_uri is typically the path to where you host this PHP file.
$apiConfig['oauth2_redirect_uri'] = 'http://example.com/path/to/myapp.php';
$apiconfig['authClass'] = 'apiOAuth2';

$client = new apiClient();
$buzz = new apiBuzzService($client);

// Make an authenticated request to the Buzz API.
if ($client->getAccessToken()) {
  $me = $buzz->getPeople('@me');
  $ident = '<img src="%s"> <a href="%s">%s</a>';
  printf($ident, $me['thumbnailUrl'], $me['profileUrl'], $me['displayName']);
}
?>
}}}